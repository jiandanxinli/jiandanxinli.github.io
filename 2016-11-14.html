<!DOCTYPE html><html lang="zh-CN"><head><meta content="IE=edge;chrome=1" http-equiv="X-UA-Compatible" /><meta content="width=device-width, initial-scale=1" name="viewport" /><title>TextInput è¯¦è§£ Â· Material Design Part 1 Â· ç®€å•å¿ƒç†æŠ€æœ¯å›¢é˜Ÿ</title><meta content="Material Design æ–‡æœ¬è¾“å…¥è¯¦è§£" name="description" /><link href="/stylesheets/app.css" rel="stylesheet" /><link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/feed.xml" /><link href="/images/favicon.ico" rel="icon" /></head><body><div class="animated fadeInDown"><div class="header container"><a class="logo" href="/"><img src="/images/logo.png" alt="Logo" /></a><h1><a href="/">ç®€å•å¿ƒç† Â· æŠ€æœ¯å›¢é˜Ÿ</a></h1><a class="github" href="https://github.com/jiandanxinli">github.com/jiandanxinli</a></div></div><div class="animated_container"><div class="content container animated fadeIn delay"><h2>TextInput è¯¦è§£ Â· Material Design Part 1</h2><div class="meta"><span class="date">2016-11-14</span><span class="author">BugDev</span></div><blockquote>Material Design æ–‡æœ¬è¾“å…¥è¯¦è§£</blockquote><p>è¿™æ˜¯ä¸€ä¸ªç³»åˆ—æ–‡ç« ï¼Œåœ¨è¿™ä¸ªç³»åˆ—é‡Œï¼Œæˆ‘ä¼šæŒ‰æ‰“é€ ä¸€ä¸ª Material Design App çš„è·¯çº¿ä»‹ç»æ‰€æœ‰åº”å½“æŒæ¡å’Œå€¼å¾—æŒæ¡çš„ç³»ç»Ÿç»„ä»¶ã€‚
ä½ ä¼šåœ¨è¿™äº›æ–‡ç« é‡Œäº†è§£åˆ°è¿™äº›ç»„ä»¶çš„ä½¿ç”¨å’Œå†…éƒ¨å®ç°åŸç†ï¼Œä»¥åŠå®ƒä»¬èƒŒåæ‰€åæ˜ çš„ Material Design çš„è®¾è®¡æ€æƒ³ï¼Œå¸Œæœ›ä½ ä¼šå–œæ¬¢ã€‚</p>

<p><strong>Tips</strong></p>

<p>æˆ‘çš„æ¯ä¸€ç¯‡åšå®¢éƒ½ä¼šæä¾›è¯¦å°½çš„APIä»‹ç»ï¼Œå¦‚æœä½ æƒ³å¿«é€ŸæŸ¥é˜…æŸä¸ªåŠŸèƒ½çš„APIæˆ–å¦‚ä½•å®ç°ï¼Œå»ºè®®Ctrl+Fï¼ˆCommad+Fï¼‰åœ¨æœ¬é¡µé¢æœç´¢å…³é”®å­—æŸ¥æ‰¾ã€‚</p>

<p>Thanks for reading~!</p>

<h2>ç›®å½•</h2>

<ol>
<li>åŸºæœ¬ä»‹ç»</li>
<li>TextInputLayoutè¯¦è§£</li>
<li>ä»£ç æ‚çƒ©</li>
<li>ç™»å½•é¡µé¢å®æˆ˜</li>
</ol>

<h2>åŸºæœ¬ä»‹ç»</h2>

<p>æ–‡æœ¬è¾“å…¥æ¡†é€šå¸¸éƒ½æœ‰æç¤ºè¯­ï¼Œå‘ŠçŸ¥ç”¨æˆ·è¿™é‡Œéœ€è¦è¾“å…¥ä»€ä¹ˆã€‚æç¤ºè¯­é€šå¸¸æœ‰ä¸¤ç§å½¢å¼ï¼Œ<strong>ä½äºè¾“å…¥æ¡†å†…ï¼Œè¾“å…¥æ–‡å­—åå³æ¶ˆå¤±</strong> æˆ– <strong>å›ºå®šæµ®äºè¾“å…¥æ¡†ä¸Šæ–¹æˆ–å·¦ä¾§</strong>ã€‚</p>

<p>å°†æç¤ºç½®äºè¾“å…¥æ¡†å†…èƒ½å¤ŸèŠ‚çœç©ºé—´ï¼Œä½†æœ‰ä¸ªè‡´å‘½çš„ç¼ºç‚¹å°±æ˜¯å®¹æ˜“å¯¼è‡´ç”¨æˆ·å¤±å»ä¸Šä¸‹æ–‡ã€‚æƒ³è±¡ä¸€ä¸‹ï¼Œå½“æˆ‘ä»¬æœ‰åä¸ªæ–‡æœ¬æ¡†éœ€è¦è¾“å…¥çš„æ—¶å€™ï¼Œå¦‚æœæ— æ³•å§‹ç»ˆçœ‹åˆ°æç¤ºè¯­ï¼Œå¾ˆå®¹æ˜“å¿˜è®°è¿™é‡Œè¯¥å¡«å…¥ä»€ä¹ˆæ ·çš„æ•°æ®ã€‚</p>

<p>æç¤ºè¯­å›ºå®šäºè¾“å…¥æ¡†ä¸Šæ–¹æˆ–å·¦ä¾§ï¼Œè®©äººèƒ½å¤Ÿéå¸¸æ˜ç¡®çš„çŸ¥é“è¿™é‡Œè¯¥å¡«å…¥çš„å†…å®¹ï¼Œä½†åœ¨åŠ¨ç”»æ•ˆæœå’Œç„¦ç‚¹åŒºåˆ†ä¸Šå´ä¸æ˜¯ååˆ†å‡ºè‰²ã€‚</p>

<p>ç»“åˆè¿™ä¸¤ç§ç±»å‹çš„è¾“å…¥æ¡†ä¼˜ç‚¹ï¼ŒMaterial Designæ¨å‡ºäº†ä¸€ç§ä¼˜ç§€çš„æ–‡æœ¬è¾“å…¥æ¡†å½¢å¼â€”â€”<strong>å½“ç”¨æˆ·ç‚¹å‡»ç©ºå†…å®¹çš„æ–‡æœ¬è¾“å…¥æ¡†æ—¶ï¼ŒåŸæœ¬ä½äºè¾“å…¥æ¡†å†…çš„æç¤ºè¯­ä¼šç»ç”±ä¸€ä¸ªåŠ¨ç”»æµ®åŠ¨è‡³è¾“å…¥æ¡†ä¸Šæ–¹ï¼Œæ–‡æœ¬é¢œè‰²åŒæ—¶å˜æˆå¼ºè°ƒè‰²ï¼Œæ˜ç¡®æ˜¾ç¤ºæ­¤æ—¶è¯¥ç»„ä»¶è·å¾—ç„¦ç‚¹</strong>ã€‚</p>

<p>ä¸ºäº†è®©å¼€å‘è€…æ›´åŠ æ–¹ä¾¿åœ°å®ç°è¿™ç§æ•ˆæœï¼ŒGoogleæ¨å‡ºäº†<strong>TextInputLayout</strong>ç»„ä»¶ã€‚å‘è¯¥ç»„ä»¶ä¸­æ”¾å…¥ä¸€ä¸ª<strong>EditText</strong>ç»„ä»¶ï¼ˆæˆ–å…¶æ‰©å±•ç±»ä¹Ÿå¯ï¼Œæ¯”å¦‚<strong>TextInputEditText</strong>ï¼‰ï¼Œä¾¿å¯è½»æ¾å®ç°Material Designæ–‡æ¡£ä¸­æ‰€è¦æ±‚çš„æ•ˆæœã€‚</p>

<p>å…¶ä¸­ï¼Œè¦æä¸€ä¸‹çš„æ˜¯TextInputEditTextã€‚ç›¸æ¯”äºå…¶ä»–çš„EditTextç±»ï¼Œä½¿ç”¨è¯¥ç±»ä½œä¸ºå­Viewæ”¾å…¥TextInputLayoutå¯ä»¥åœ¨<strong>å…¨å±æ¨¡å¼æ—¶ä¾ç„¶åœ¨ç¼–è¾‘å™¨é‡Œå±•ç¤ºhint</strong>ã€‚</p>

<p>æ¥ä¸‹æ¥å°±è®©æˆ‘ä»¬ä¸€èµ·æ¥è¯¦ç»†åœ°æ•´ç†å­¦ä¹ ä¸€ä¸‹TextInputLayoutã€‚</p>

<h2>TextInputLayoutè¯¦è§£</h2>

<p><strong>xmlå±æ€§&amp;å¸¸ç”¨æ–¹æ³•</strong></p>

<ul>
<li><p><strong>counterEnabled</strong>ï¼šfalse or trueï¼Œç”¨äºè®¾ç½®å­—ç¬¦è®¡æ•°å™¨çš„å¼€å¯æˆ–å…³é—­ã€‚</p>

<p>å¯¹åº”æ–¹æ³•ï¼š<strong><em>setCounterEnabled(boolean)</em></strong></p></li>
<li><p><strong>counterMaxLength</strong>ï¼šè®¾ç½®å­—ç¬¦è®¡æ•°å™¨çš„æœ€å¤§é•¿åº¦ã€‚<strong>ï¼ˆä»…ç”¨äºè®¾ç½®è®¡æ•°å™¨æœ€å¤§å€¼ï¼Œå¹¶ä¸å½±å“æ–‡æœ¬å®é™…èƒ½è¾“å…¥çš„æœ€å¤§é•¿åº¦ï¼‰</strong></p>

<p>å¯¹åº”æ–¹æ³•ï¼š<strong><em>setCounterMaxLength(int)</em></strong></p></li>
<li><p><strong>errorEnabled</strong>ï¼šfalse or trueï¼Œç”¨äºè®¾ç½®é”™è¯¯æç¤ºæ˜¯å¦å¼€å¯ã€‚</p>

<p>å¯¹åº”æ–¹æ³•ï¼š<strong><em>setErrorEnabled(boolean)</em></strong></p></li>
<li><p><strong>hint</strong>ï¼šè®¾ç½®è¾“å…¥æ¡†çš„æç¤ºè¯­ã€‚</p>

<p>å¯¹åº”æ–¹æ³•ï¼š<strong><em>setHint(CharSequence)</em></strong></p></li>
<li><p><strong>hintAnimationEnabled</strong>ï¼štrue or falseï¼Œå¼€å¯æˆ–å…³é—­hintæµ®åŠ¨æˆæ ‡ç­¾çš„åŠ¨ç”»æ•ˆæœã€‚</p>

<p>å¯¹åº”æ–¹æ³•ï¼š<strong><em>setHintAnimationEnabled(boolean)</em></strong></p></li>
<li><p><strong>hintEnabled</strong>ï¼štrue or falseï¼Œå¼€å¯æˆ–å…³é—­hintæµ®åŠ¨çš„åŠŸèƒ½ï¼Œè®¾ä¸ºfalseçš„è¯å°±å’Œä¹‹å‰çš„EditTextä¸€æ ·ï¼Œåœ¨è¾“å…¥æ–‡å­—åï¼Œæç¤ºè¯­å°±æ¶ˆå¤±äº†ã€‚</p>

<p>å¯¹åº”æ–¹æ³•ï¼š<strong><em>setHintEnabled(boolean)</em></strong></p></li>
<li><p><strong>hintTextAppearance</strong>ï¼šè®¾ç½®hintçš„styleï¼Œå­—ä½“é¢œè‰²ï¼Œå­—ä½“å¤§å°ç­‰ï¼Œå¯å¼•ç”¨ç³»ç»Ÿè‡ªå¸¦çš„ä¹Ÿå¯ä»¥è‡ªå®šä¹‰ã€‚<strong>è‹¥è¦ä½¿ç”¨è¯·ç»Ÿä¸€ä½¿ç”¨ï¼Œä»¥ä¿è¯APPä½“éªŒçš„ç»Ÿä¸€æ€§ã€‚</strong></p>

<p>å¯¹åº”æ–¹æ³•ï¼š<strong><em>setHintTextAppearance(int)</em></strong></p></li>
</ul>

<p>å½“æ–‡æœ¬è¾“å…¥ç±»å‹ä¸ºå¯†ç æ—¶ï¼Œç³»ç»Ÿæä¾›äº†ä¸€ä¸ªå¼€å…³æ¥æ§åˆ¶å¯†ç æ˜¯å¦å¯è§ï¼ˆé»˜è®¤ä¸ºçœ¼ç›ğŸ‘ï¼‰ã€‚æ­¤ä¸ºdesignåŒ…24.2.0æ–°æä¾›çš„åŠŸèƒ½ã€‚</p>

<ul>
<li><p><strong>passwordToggleEnabled</strong>ï¼š<strong>æ§åˆ¶å¯†ç å¯è§å¼€å…³æ˜¯å¦å¯ç”¨ã€‚</strong>è®¾ä¸ºfalseåˆ™è¯¥åŠŸèƒ½ä¸å¯ç”¨ï¼Œå¯†ç è¾“å…¥æ¡†å³ä¾§ä¹Ÿæ²¡æœ‰æ§åˆ¶å¯†ç å¯è§ä¸å¦çš„å¼€å…³ã€‚</p>

<p>å¯¹åº”æ–¹æ³•ï¼š<strong><em>setPasswordVisibilityToggleEnabled(boolean)</em></strong></p></li>
<li><p><strong>passwordToggleDrawable</strong>ï¼š<strong>è®¾ç½®å¯†ç å¯è§å¼€å…³çš„å›¾æ ‡ã€‚é€šå¸¸æˆ‘ä»¬ä¼šåœ¨ä¸åŒçš„æƒ…å†µä¸‹è®¾å®šä¸åŒçš„å›¾æ ‡ï¼Œå¯é€šè¿‡è‡ªå®šä¹‰ä¸€ä¸ªselectorï¼Œæ ¹æ®â€œstate_checkedâ€å±æ€§æ¥æ§åˆ¶å›¾æ ‡çš„åˆ‡æ¢ã€‚åé¢ä»£ç å®è·µé‡Œä¼šæœ‰ç¤ºèŒƒã€‚</strong></p>

<p>å¯¹åº”æ–¹æ³•ï¼š<strong><em>setPasswordVisibilityToggleDrawable(Drawable)</em></strong></p></li>
<li><p><strong>passwordToggleTint</strong>ï¼š<strong>æ§åˆ¶å¯†ç å¯è§å¼€å…³å›¾æ ‡çš„é¢œè‰²ã€‚åœ¨å¼€å¯æˆ–å…³é—­çš„çŠ¶æ€ä¸‹æˆ‘ä»¬å¯ä»¥è®¾å®šä¸åŒçš„é¢œè‰²ï¼Œå¯é€šè¿‡è‡ªå®šä¹‰ä¸€ä¸ªcolorçš„selectorï¼Œæ ¹æ®â€œstate_checkedâ€å’Œâ€œstate_selectedâ€å±æ€§æ¥æ§åˆ¶é¢œè‰²çš„åˆ‡æ¢ã€‚åé¢ä»£ç å®è·µé‡Œä¼šæœ‰ç¤ºèŒƒã€‚</strong></p>

<p>å¯¹åº”æ–¹æ³•ï¼š<strong><em>setPasswordVisibilityToggleTintList(ColorStateList)</em></strong></p></li>
<li><p><strong>passwordToggleTintMode</strong>ï¼šæ§åˆ¶å¯†ç å¯è§å¼€å…³å›¾æ ‡çš„èƒŒæ™¯é¢œè‰²æ··åˆæ¨¡å¼ã€‚è¿™ä¸ªåœ°æ–¹æˆ‘ä¸æ˜¯å¾ˆèƒ½ç†è§£ï¼Œæš‚ä½œæ ‡è®°ï¼Œå¸Œæœ›æœ‰äººå¯ä»¥æŒ‡æ•™ã€‚ä¸è¿‡å¯ä»¥è‚¯å®šçš„æ˜¯æ­£å¸¸éœ€æ±‚éƒ½ç”¨ä¸åˆ°è¿™ä¸ªå±æ€§ã€‚</p>

<p>åˆ†åˆ«æ˜¯ï¼š</p>

<blockquote>
<ol>
<li>multiply[Sa*Da, Sc*Dc]</li>
<li>screen[Sa+Da-Sa*Da, Sc+Dc-Sc*Dc]</li>
<li>src_atop[Da, Sc*Da+(1-Sa)*Dc]</li>
<li>src_in[Sa*Da, Sc*Da]</li>
<li>src_over[Sa+(1-Sa)<em>Da, Rc=Sc+(1-Sa)</em>Dc]</li>
</ol>
</blockquote>

<p>å¯¹åº”æ–¹æ³•ï¼š<strong><em>setPasswordVisibilityToggleTintMode(PorterDuff.Mode)</em></strong></p>

<p><strong>æ³¨</strong>ï¼šå…³äºè¿™æ–¹é¢çš„çŸ¥è¯†æœ‰å…´è¶£è¯·å‚è€ƒ<a href="http://weishu.me/2015/09/23/Xfermode-in-android/">Xfermode in android</a>å…¶ä¸­æœ‰å…³äºè¿™æ–¹é¢æ¦‚å¿µçš„è§£é‡Šã€‚</p></li>
<li><p><strong>passwordToggleContentDescription</strong>ï¼šè¯¥åŠŸèƒ½æ˜¯ä¸ºTalkbackæˆ–å…¶ä»–æ— éšœç¢åŠŸèƒ½æä¾›çš„ã€‚TalkBackä¼šå»è¯»contentDescriptionçš„å€¼ï¼Œå‘Šè¯‰ç”¨æˆ·è¿™ä¸ªæ“ä½œæ˜¯ä»€ä¹ˆã€‚</p></li>
</ul>

<p>å¯¹åº”æ–¹æ³•ï¼š<strong><em>setPasswordVisibilityToggleContentDescription(int)</em></strong></p>

<h2>ä»£ç æ‚çƒ©</h2>

<p><strong>æ•ˆæœå›¾</strong>
 <img src="https://cloud.githubusercontent.com/assets/12692071/20247096/cb1e4a76-a9ff-11e6-935c-3ef67e1ed79c.png" alt="æ•ˆæœå›¾" /></p>

<p><strong>æ•ˆæœè§†é¢‘â†’</strong><a href="http://v.youku.com/v_show/id_XMTczMTQyMDYwNA==.html">ç‚¹è¿™é‡Œ</a></p>

<p><strong>Layoutå¸ƒå±€</strong></p>
<pre class="highlight xml"><code><span class="nt">&lt;LinearLayout</span> <span class="na">xmlns:android=</span><span class="s">"http://schemas.android.com/apk/res/android"</span>
    <span class="na">xmlns:app=</span><span class="s">"http://schemas.android.com/apk/res-auto"</span>
    <span class="na">xmlns:tools=</span><span class="s">"http://schemas.android.com/tools"</span>
    <span class="na">android:layout_width=</span><span class="s">"match_parent"</span>
    <span class="na">android:layout_height=</span><span class="s">"match_parent"</span>
    <span class="na">tools:context=</span><span class="s">"com.jiandanxinli.smileback.materiallogin.LoginActivity"</span><span class="nt">&gt;</span>

    <span class="nt">&lt;ScrollView</span>
        <span class="na">android:id=</span><span class="s">"@+id/login_form"</span>
        <span class="na">android:layout_width=</span><span class="s">"match_parent"</span>
        <span class="na">android:layout_height=</span><span class="s">"match_parent"</span>
        <span class="na">android:scrollbars=</span><span class="s">"none"</span><span class="nt">&gt;</span>

        <span class="nt">&lt;LinearLayout</span>
            <span class="na">android:id=</span><span class="s">"@+id/email_login_form"</span>
            <span class="na">android:layout_width=</span><span class="s">"match_parent"</span>
            <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
            <span class="na">android:focusableInTouchMode=</span><span class="s">"true"</span>
            <span class="na">android:orientation=</span><span class="s">"vertical"</span>
            <span class="na">android:paddingEnd=</span><span class="s">"16dp"</span>
            <span class="na">android:paddingStart=</span><span class="s">"16dp"</span><span class="nt">&gt;</span>

            <span class="nt">&lt;LinearLayout</span>
                <span class="na">android:layout_width=</span><span class="s">"match_parent"</span>
                <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
                <span class="na">android:layout_marginTop=</span><span class="s">"18dp"</span>
                <span class="na">android:orientation=</span><span class="s">"horizontal"</span><span class="nt">&gt;</span>

                <span class="nt">&lt;ImageView</span>
                    <span class="na">android:layout_width=</span><span class="s">"wrap_content"</span>
                    <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
                    <span class="na">android:layout_gravity=</span><span class="s">"center_vertical"</span>
                    <span class="na">android:layout_marginEnd=</span><span class="s">"12dp"</span>
                    <span class="na">android:src=</span><span class="s">"@drawable/ic_perm_identity_black_24dp"</span> <span class="nt">/&gt;</span>

                <span class="nt">&lt;android.support.design.widget.TextInputLayout</span>
                    <span class="na">android:layout_width=</span><span class="s">"match_parent"</span>
                    <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
                    <span class="na">android:hint=</span><span class="s">"@string/hotchpotch_name_tv"</span><span class="nt">&gt;</span>

                    <span class="nt">&lt;android.support.design.widget.TextInputEditText</span>
                        <span class="na">android:id=</span><span class="s">"@+id/edit_name"</span>
                        <span class="na">android:layout_width=</span><span class="s">"match_parent"</span>
                        <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
                        <span class="na">android:inputType=</span><span class="s">"text"</span> <span class="nt">/&gt;</span>

                <span class="nt">&lt;/android.support.design.widget.TextInputLayout&gt;</span>
            <span class="nt">&lt;/LinearLayout&gt;</span>

            <span class="nt">&lt;LinearLayout</span>
                <span class="na">android:layout_width=</span><span class="s">"match_parent"</span>
                <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
                <span class="na">android:layout_marginTop=</span><span class="s">"8dp"</span>
                <span class="na">android:orientation=</span><span class="s">"horizontal"</span><span class="nt">&gt;</span>

                <span class="nt">&lt;ImageView</span>
                    <span class="na">android:layout_width=</span><span class="s">"wrap_content"</span>
                    <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
                    <span class="na">android:layout_gravity=</span><span class="s">"center_vertical"</span>
                    <span class="na">android:layout_marginEnd=</span><span class="s">"12dp"</span>
                    <span class="na">android:src=</span><span class="s">"@drawable/ic_phone_black_24dp"</span> <span class="nt">/&gt;</span>

                <span class="nt">&lt;android.support.design.widget.TextInputLayout</span>
                    <span class="na">android:layout_width=</span><span class="s">"match_parent"</span>
                    <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
                    <span class="na">android:hint=</span><span class="s">"@string/hotchpotch_phone_tv"</span>
                    <span class="na">app:counterEnabled=</span><span class="s">"true"</span>
                    <span class="na">app:counterMaxLength=</span><span class="s">"11"</span><span class="nt">&gt;</span>

                    <span class="nt">&lt;android.support.design.widget.TextInputEditText</span>
                        <span class="na">android:id=</span><span class="s">"@+id/edit_phone"</span>
                        <span class="na">android:layout_width=</span><span class="s">"match_parent"</span>
                        <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
                        <span class="na">android:inputType=</span><span class="s">"phone"</span>
                        <span class="na">android:maxLength=</span><span class="s">"11"</span> <span class="nt">/&gt;</span>

                <span class="nt">&lt;/android.support.design.widget.TextInputLayout&gt;</span>

            <span class="nt">&lt;/LinearLayout&gt;</span>

            <span class="nt">&lt;LinearLayout</span>
                <span class="na">android:layout_width=</span><span class="s">"match_parent"</span>
                <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
                <span class="na">android:orientation=</span><span class="s">"horizontal"</span><span class="nt">&gt;</span>

                <span class="nt">&lt;ImageView</span>
                    <span class="na">android:layout_width=</span><span class="s">"wrap_content"</span>
                    <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
                    <span class="na">android:layout_gravity=</span><span class="s">"center_vertical"</span>
                    <span class="na">android:layout_marginEnd=</span><span class="s">"12dp"</span>
                    <span class="na">android:src=</span><span class="s">"@drawable/ic_mail_black_24dp"</span> <span class="nt">/&gt;</span>

                <span class="nt">&lt;android.support.design.widget.TextInputLayout</span>
                    <span class="na">android:layout_width=</span><span class="s">"match_parent"</span>
                    <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
                    <span class="na">android:hint=</span><span class="s">"@string/hotchpotch_mail_tv"</span><span class="nt">&gt;</span>

                    <span class="nt">&lt;android.support.design.widget.TextInputEditText</span>
                        <span class="na">android:id=</span><span class="s">"@+id/edit_email"</span>
                        <span class="na">android:layout_width=</span><span class="s">"match_parent"</span>
                        <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
                        <span class="na">android:inputType=</span><span class="s">"textEmailAddress"</span> <span class="nt">/&gt;</span>

                <span class="nt">&lt;/android.support.design.widget.TextInputLayout&gt;</span>

            <span class="nt">&lt;/LinearLayout&gt;</span>

            <span class="nt">&lt;LinearLayout</span>
                <span class="na">android:layout_width=</span><span class="s">"match_parent"</span>
                <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
                <span class="na">android:layout_marginTop=</span><span class="s">"8dp"</span>
                <span class="na">android:orientation=</span><span class="s">"horizontal"</span><span class="nt">&gt;</span>

                <span class="nt">&lt;ImageView</span>
                    <span class="na">android:layout_width=</span><span class="s">"wrap_content"</span>
                    <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
                    <span class="na">android:layout_gravity=</span><span class="s">"center_vertical"</span>
                    <span class="na">android:layout_marginEnd=</span><span class="s">"12dp"</span>
                    <span class="na">android:src=</span><span class="s">"@drawable/ic_security_black_24dp"</span> <span class="nt">/&gt;</span>

                <span class="nt">&lt;android.support.design.widget.TextInputLayout</span>
                    <span class="na">android:layout_width=</span><span class="s">"match_parent"</span>
                    <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
                    <span class="na">android:hint=</span><span class="s">"@string/hotchpotch_password_tv"</span>
                    <span class="na">app:passwordToggleDrawable=</span><span class="s">"@drawable/visibility_selector"</span>
                    <span class="na">app:passwordToggleEnabled=</span><span class="s">"true"</span>
                    <span class="na">app:passwordToggleTint=</span><span class="s">"@color/visibility_selector"</span><span class="nt">&gt;</span>

                    <span class="nt">&lt;android.support.design.widget.TextInputEditText</span>
                        <span class="na">android:id=</span><span class="s">"@+id/edit_password"</span>
                        <span class="na">android:layout_width=</span><span class="s">"match_parent"</span>
                        <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
                        <span class="na">android:inputType=</span><span class="s">"textPassword"</span> <span class="nt">/&gt;</span>

                <span class="nt">&lt;/android.support.design.widget.TextInputLayout&gt;</span>

            <span class="nt">&lt;/LinearLayout&gt;</span>

            <span class="nt">&lt;LinearLayout</span>
                <span class="na">android:layout_width=</span><span class="s">"match_parent"</span>
                <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
                <span class="na">android:orientation=</span><span class="s">"horizontal"</span><span class="nt">&gt;</span>

                <span class="nt">&lt;ImageView</span>
                    <span class="na">android:layout_width=</span><span class="s">"wrap_content"</span>
                    <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
                    <span class="na">android:layout_gravity=</span><span class="s">"center_vertical"</span>
                    <span class="na">android:layout_marginEnd=</span><span class="s">"12dp"</span>
                    <span class="na">android:src=</span><span class="s">"@drawable/ic_feedback_black_24dp"</span> <span class="nt">/&gt;</span>

                <span class="nt">&lt;android.support.design.widget.TextInputLayout</span>
                    <span class="na">android:layout_width=</span><span class="s">"match_parent"</span>
                    <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
                    <span class="na">android:hint=</span><span class="s">"@string/hotchpotch_feedback_tv"</span>
                    <span class="na">app:counterEnabled=</span><span class="s">"true"</span>
                    <span class="na">app:counterMaxLength=</span><span class="s">"10"</span>
                    <span class="na">app:hintTextAppearance=</span><span class="s">"@style/FloatingStyle"</span><span class="nt">&gt;</span>

                    <span class="nt">&lt;android.support.design.widget.TextInputEditText</span>
                        <span class="na">android:id=</span><span class="s">"@+id/edit_feedback"</span>
                        <span class="na">android:layout_width=</span><span class="s">"match_parent"</span>
                        <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
                        <span class="na">android:inputType=</span><span class="s">"text"</span> <span class="nt">/&gt;</span>

                <span class="nt">&lt;/android.support.design.widget.TextInputLayout&gt;</span>

            <span class="nt">&lt;/LinearLayout&gt;</span>

            <span class="nt">&lt;Button</span>
                <span class="na">android:id=</span><span class="s">"@+id/submit_btn"</span>
                <span class="na">android:layout_width=</span><span class="s">"match_parent"</span>
                <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
                <span class="na">android:layout_marginEnd=</span><span class="s">"16dp"</span>
                <span class="na">android:layout_marginStart=</span><span class="s">"16dp"</span>
                <span class="na">android:layout_marginTop=</span><span class="s">"30dp"</span>
                <span class="na">android:background=</span><span class="s">"@drawable/btn_selector"</span>
                <span class="na">android:text=</span><span class="s">"@string/hotchpotch_submit_btn"</span>
                <span class="na">android:textColor=</span><span class="s">"@color/colorWhite"</span>
                <span class="na">android:textSize=</span><span class="s">"20sp"</span> <span class="nt">/&gt;</span>

        <span class="nt">&lt;/LinearLayout&gt;</span>
    <span class="nt">&lt;/ScrollView&gt;</span>
<span class="nt">&lt;/LinearLayout&gt;</span>
</code></pre>
<p><strong>FloatingStyle</strong></p>
<pre class="highlight xml"><code><span class="nt">&lt;style</span> <span class="na">name=</span><span class="s">"FloatingStyle"</span> <span class="na">parent=</span><span class="s">"@android:style/TextAppearance"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">"android:textColor"</span><span class="nt">&gt;</span>#FFEB3B<span class="nt">&lt;/item&gt;</span>
        <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">"android:textSize"</span><span class="nt">&gt;</span>20sp<span class="nt">&lt;/item&gt;</span>
<span class="nt">&lt;/style&gt;</span>
</code></pre>
<p><strong>btn_selector</strong></p>
<pre class="highlight xml"><code><span class="nt">&lt;selector</span> <span class="na">xmlns:android=</span><span class="s">"http://schemas.android.com/apk/res/android"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;item</span> <span class="na">android:drawable=</span><span class="s">"@color/colorPrimaryDark"</span> <span class="na">android:state_pressed=</span><span class="s">"true"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;item</span> <span class="na">android:drawable=</span><span class="s">"@color/colorPrimary"</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/selector&gt;</span>
</code></pre>
<p><strong>drawable/visibility_selector</strong></p>
<pre class="highlight xml"><code><span class="nt">&lt;selector</span> <span class="na">xmlns:android=</span><span class="s">"http://schemas.android.com/apk/res/android"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;item</span> <span class="na">android:drawable=</span><span class="s">"@drawable/ic_visibility_black_24dp"</span> <span class="na">android:state_checked=</span><span class="s">"false"</span> <span class="na">android:state_pressed=</span><span class="s">"true"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;item</span> <span class="na">android:drawable=</span><span class="s">"@drawable/ic_visibility_off_black_24dp"</span> <span class="na">android:state_checked=</span><span class="s">"true"</span> <span class="na">android:state_pressed=</span><span class="s">"true"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;item</span> <span class="na">android:drawable=</span><span class="s">"@drawable/ic_visibility_black_24dp"</span> <span class="na">android:state_checked=</span><span class="s">"true"</span> <span class="na">android:state_pressed=</span><span class="s">"false"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;item</span> <span class="na">android:drawable=</span><span class="s">"@drawable/ic_visibility_off_black_24dp"</span> <span class="na">android:state_checked=</span><span class="s">"false"</span> <span class="na">android:state_pressed=</span><span class="s">"false"</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/selector&gt;</span>
</code></pre>
<p><strong>color/visibility_selector</strong></p>
<pre class="highlight xml"><code><span class="nt">&lt;selector</span> <span class="na">xmlns:android=</span><span class="s">"http://schemas.android.com/apk/res/android"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;item</span> <span class="na">android:color=</span><span class="s">"@color/colorAccent"</span> <span class="na">android:state_checked=</span><span class="s">"false"</span> <span class="na">android:state_pressed=</span><span class="s">"true"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;item</span> <span class="na">android:color=</span><span class="s">"@color/colorDivider"</span> <span class="na">android:state_checked=</span><span class="s">"true"</span> <span class="na">android:state_pressed=</span><span class="s">"true"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;item</span> <span class="na">android:color=</span><span class="s">"@color/colorAccent"</span> <span class="na">android:state_checked=</span><span class="s">"true"</span> <span class="na">android:state_pressed=</span><span class="s">"false"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;item</span> <span class="na">android:color=</span><span class="s">"@color/colorDivider"</span> <span class="na">android:state_checked=</span><span class="s">"false"</span> <span class="na">android:state_pressed=</span><span class="s">"false"</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/selector&gt;</span>
</code></pre>
<p><strong>HotchpotchActivity.java</strong></p>
<pre class="highlight java"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">HotchpotchActivity</span> <span class="kd">extends</span> <span class="n">AppCompatActivity</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="n">TextInputEditText</span> <span class="n">mNameEditx</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">TextInputEditText</span> <span class="n">mPhoneEditx</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">TextInputEditText</span> <span class="n">mEmailEditx</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">TextInputEditText</span> <span class="n">mPasswordEditx</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">TextInputEditText</span> <span class="n">mFeedbackEditx</span><span class="o">;</span>

    <span class="kd">private</span> <span class="n">String</span> <span class="n">mContentName</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">String</span> <span class="n">mContentPhone</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">String</span> <span class="n">mContentEmail</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">String</span> <span class="n">mContentPassword</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">String</span> <span class="n">mContentFeedback</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>
        <span class="n">setContentView</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">activity_hotchpotch</span><span class="o">);</span>

        <span class="n">initView</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">initView</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">mNameEditx</span> <span class="o">=</span> <span class="o">(</span><span class="n">TextInputEditText</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">edit_name</span><span class="o">);</span>
        <span class="n">mPhoneEditx</span> <span class="o">=</span> <span class="o">(</span><span class="n">TextInputEditText</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">edit_phone</span><span class="o">);</span>
        <span class="n">mEmailEditx</span> <span class="o">=</span> <span class="o">(</span><span class="n">TextInputEditText</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">edit_email</span><span class="o">);</span>
        <span class="n">mPasswordEditx</span> <span class="o">=</span> <span class="o">(</span><span class="n">TextInputEditText</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">edit_password</span><span class="o">);</span>
        <span class="n">mFeedbackEditx</span> <span class="o">=</span> <span class="o">(</span><span class="n">TextInputEditText</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">edit_feedback</span><span class="o">);</span>

        <span class="n">Button</span> <span class="n">submitBtn</span> <span class="o">=</span> <span class="o">(</span><span class="n">Button</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">submit_btn</span><span class="o">);</span>
        <span class="n">submitBtn</span><span class="o">.</span><span class="na">setOnClickListener</span><span class="o">(</span><span class="k">new</span> <span class="n">View</span><span class="o">.</span><span class="na">OnClickListener</span><span class="o">()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onClick</span><span class="o">(</span><span class="n">View</span> <span class="n">v</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">controlAction</span><span class="o">();</span>
            <span class="o">}</span>
        <span class="o">});</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">getContent</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">mContentName</span> <span class="o">=</span> <span class="n">mNameEditx</span><span class="o">.</span><span class="na">getText</span><span class="o">().</span><span class="na">toString</span><span class="o">();</span>
        <span class="n">mContentPhone</span> <span class="o">=</span> <span class="n">mPhoneEditx</span><span class="o">.</span><span class="na">getText</span><span class="o">().</span><span class="na">toString</span><span class="o">();</span>
        <span class="n">mContentEmail</span> <span class="o">=</span> <span class="n">mEmailEditx</span><span class="o">.</span><span class="na">getText</span><span class="o">().</span><span class="na">toString</span><span class="o">();</span>
        <span class="n">mContentPassword</span> <span class="o">=</span> <span class="n">mPasswordEditx</span><span class="o">.</span><span class="na">getText</span><span class="o">().</span><span class="na">toString</span><span class="o">();</span>
        <span class="n">mContentFeedback</span> <span class="o">=</span> <span class="n">mFeedbackEditx</span><span class="o">.</span><span class="na">getText</span><span class="o">().</span><span class="na">toString</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">controlAction</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">getContent</span><span class="o">();</span>

        <span class="k">if</span> <span class="o">(</span><span class="n">mContentName</span><span class="o">.</span><span class="na">length</span><span class="o">()</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">showToast</span><span class="o">(</span><span class="s">"å§“åä¸èƒ½ä¸ºç©º!"</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">mContentPhone</span><span class="o">.</span><span class="na">length</span><span class="o">()</span> <span class="o">!=</span> <span class="mi">11</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">showToast</span><span class="o">(</span><span class="s">"è¯·æ­£ç¡®å¡«å†™11ä½æ‰‹æœºå·ç !"</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">mContentEmail</span><span class="o">.</span><span class="na">length</span><span class="o">()</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">||</span> <span class="o">!</span><span class="n">android</span><span class="o">.</span><span class="na">util</span><span class="o">.</span><span class="na">Patterns</span><span class="o">.</span><span class="na">EMAIL_ADDRESS</span><span class="o">.</span><span class="na">matcher</span><span class="o">(</span><span class="n">mContentEmail</span><span class="o">).</span><span class="na">matches</span><span class="o">())</span> <span class="o">{</span>
            <span class="n">showToast</span><span class="o">(</span><span class="s">"è¯·æ­£ç¡®å¡«å†™é‚®ç®±åœ°å€!"</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">mContentPassword</span><span class="o">.</span><span class="na">length</span><span class="o">()</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">showToast</span><span class="o">(</span><span class="s">"å¯†ç ä¸èƒ½ä¸ºç©º"</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">mContentFeedback</span><span class="o">.</span><span class="na">length</span><span class="o">()</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">showToast</span><span class="o">(</span><span class="s">"åé¦ˆæ„è§ä¸èƒ½ä¸ºç©º!"</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">mContentFeedback</span><span class="o">.</span><span class="na">length</span><span class="o">()</span> <span class="o">&gt;</span> <span class="mi">10</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">showToast</span><span class="o">(</span><span class="s">"åé¦ˆæ„è§é•¿åº¦å­—æ•°ä¸èƒ½å¤§äº10!"</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
            <span class="n">doSubmission</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">doSubmission</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">showToast</span><span class="o">(</span><span class="s">"æ­å–œæ‚¨,æ•°æ®æ­£ç¡®!"</span><span class="o">);</span>
    <span class="o">}</span>


    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">showToast</span><span class="o">(</span><span class="n">String</span> <span class="n">message</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">Toast</span><span class="o">.</span><span class="na">makeText</span><span class="o">(</span><span class="n">HotchpotchActivity</span><span class="o">.</span><span class="na">this</span><span class="o">,</span> <span class="n">message</span><span class="o">,</span> <span class="n">Toast</span><span class="o">.</span><span class="na">LENGTH_SHORT</span><span class="o">).</span><span class="na">show</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<h2>ç™»å½•é¡µé¢å®æˆ˜</h2>

<p>å°±åƒæ–‡ç« å¼€å¤´è¯´çš„ï¼Œè¿™æ˜¯ä¸€ä¸ªç³»åˆ—æ–‡ç« ï¼Œè·¯çº¿æ˜¯ä¸€ä¸ªAPPæ‰“å¼€çš„è·¯çº¿ã€‚é‚£ä¹ˆè¿™ç¬¬ä¸€ç¯‡å°±ç”¨æ¥å†™ç™»å½•é¡µé¢å§ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>

<p><strong>Layoutå¸ƒå±€</strong></p>
<pre class="highlight xml"><code><span class="nt">&lt;LinearLayout</span> <span class="na">xmlns:android=</span><span class="s">"http://schemas.android.com/apk/res/android"</span>
    <span class="na">xmlns:app=</span><span class="s">"http://schemas.android.com/apk/res-auto"</span>
    <span class="na">xmlns:tools=</span><span class="s">"http://schemas.android.com/tools"</span>
    <span class="na">android:layout_width=</span><span class="s">"match_parent"</span>
    <span class="na">android:layout_height=</span><span class="s">"match_parent"</span>
    <span class="na">android:background=</span><span class="s">"@color/colorPrimary"</span>
    <span class="na">android:gravity=</span><span class="s">"center_horizontal"</span>
    <span class="na">android:orientation=</span><span class="s">"vertical"</span>
    <span class="na">android:paddingEnd=</span><span class="s">"32dp"</span>
    <span class="na">android:paddingStart=</span><span class="s">"32dp"</span>
    <span class="na">tools:context=</span><span class="s">"com.jiandanxinli.smileback.materiallogin.LoginActivity"</span><span class="nt">&gt;</span>

    <span class="c">&lt;!-- Login progress --&gt;</span>
    <span class="nt">&lt;ProgressBar</span>
        <span class="na">android:id=</span><span class="s">"@+id/login_progress"</span>
        <span class="na">style=</span><span class="s">"?android:attr/progressBarStyleLarge"</span>
        <span class="na">android:layout_width=</span><span class="s">"wrap_content"</span>
        <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
        <span class="na">android:visibility=</span><span class="s">"gone"</span> <span class="nt">/&gt;</span>

    <span class="nt">&lt;ScrollView</span>
        <span class="na">android:id=</span><span class="s">"@+id/login_form"</span>
        <span class="na">android:layout_width=</span><span class="s">"match_parent"</span>
        <span class="na">android:layout_height=</span><span class="s">"match_parent"</span><span class="nt">&gt;</span>

        <span class="nt">&lt;LinearLayout</span>
            <span class="na">android:id=</span><span class="s">"@+id/email_login_form"</span>
            <span class="na">android:layout_width=</span><span class="s">"match_parent"</span>
            <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
            <span class="na">android:layout_gravity=</span><span class="s">"center"</span>
            <span class="na">android:layout_marginBottom=</span><span class="s">"24dp"</span>
            <span class="na">android:focusableInTouchMode=</span><span class="s">"true"</span>
            <span class="na">android:orientation=</span><span class="s">"vertical"</span><span class="nt">&gt;</span>

            <span class="nt">&lt;TextView</span>
                <span class="na">android:layout_width=</span><span class="s">"wrap_content"</span>
                <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
                <span class="na">android:layout_gravity=</span><span class="s">"center_horizontal"</span>
                <span class="na">android:layout_marginBottom=</span><span class="s">"48dp"</span>
                <span class="na">android:fontFamily=</span><span class="s">"cursive"</span>
                <span class="na">android:text=</span><span class="s">"@string/app_name"</span>
                <span class="na">android:textSize=</span><span class="s">"48sp"</span>
                <span class="na">android:textStyle=</span><span class="s">"bold"</span> <span class="nt">/&gt;</span>


            <span class="nt">&lt;android.support.design.widget.TextInputLayout</span>
                <span class="na">android:layout_width=</span><span class="s">"match_parent"</span>
                <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
                <span class="na">android:layout_marginBottom=</span><span class="s">"24dp"</span><span class="nt">&gt;</span>

                <span class="nt">&lt;AutoCompleteTextView</span>
                    <span class="na">android:id=</span><span class="s">"@+id/email"</span>
                    <span class="na">android:layout_width=</span><span class="s">"match_parent"</span>
                    <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
                    <span class="na">android:hint=</span><span class="s">"@string/prompt_email"</span>
                    <span class="na">android:inputType=</span><span class="s">"textEmailAddress"</span>
                    <span class="na">android:maxLines=</span><span class="s">"1"</span> <span class="nt">/&gt;</span>

            <span class="nt">&lt;/android.support.design.widget.TextInputLayout&gt;</span>

            <span class="nt">&lt;android.support.design.widget.TextInputLayout</span>
                <span class="na">android:layout_width=</span><span class="s">"match_parent"</span>
                <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
                <span class="na">android:layout_marginBottom=</span><span class="s">"40dp"</span>
                <span class="na">app:passwordToggleDrawable=</span><span class="s">"@drawable/visibility_selector"</span><span class="nt">&gt;</span>

                <span class="nt">&lt;android.support.design.widget.TextInputEditText</span>
                    <span class="na">android:id=</span><span class="s">"@+id/password"</span>
                    <span class="na">android:layout_width=</span><span class="s">"match_parent"</span>
                    <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
                    <span class="na">android:hint=</span><span class="s">"@string/prompt_password"</span>
                    <span class="na">android:imeActionId=</span><span class="s">"@+id/login"</span>
                    <span class="na">android:imeActionLabel=</span><span class="s">"@string/action_sign_in_short"</span>
                    <span class="na">android:imeOptions=</span><span class="s">"actionUnspecified"</span>
                    <span class="na">android:inputType=</span><span class="s">"textPassword"</span>
                    <span class="na">android:maxLines=</span><span class="s">"1"</span> <span class="nt">/&gt;</span>

            <span class="nt">&lt;/android.support.design.widget.TextInputLayout&gt;</span>

            <span class="nt">&lt;Button</span>
                <span class="na">android:id=</span><span class="s">"@+id/email_sign_in_button"</span>
                <span class="na">style=</span><span class="s">"?android:textAppearanceSmall"</span>
                <span class="na">android:layout_width=</span><span class="s">"match_parent"</span>
                <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
                <span class="na">android:background=</span><span class="s">"@color/colorPrimaryDark"</span>
                <span class="na">android:text=</span><span class="s">"@string/action_sign_in"</span>
                <span class="na">android:textSize=</span><span class="s">"18sp"</span>
                <span class="na">android:textStyle=</span><span class="s">"bold"</span> <span class="nt">/&gt;</span>

        <span class="nt">&lt;/LinearLayout&gt;</span>
    <span class="nt">&lt;/ScrollView&gt;</span>
<span class="nt">&lt;/LinearLayout&gt;</span>
</code></pre>
<p><strong>LoginActivity.java</strong></p>
<pre class="highlight java"><code><span class="cm">/**
 * ç™»å½•é¡µé¢
 *
 * @author bugdev
 */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">LoginActivity</span> <span class="kd">extends</span> <span class="n">AppCompatActivity</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="n">AutoCompleteTextView</span> <span class="n">mEmailView</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">EditText</span> <span class="n">mPasswordView</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">ProgressDialog</span> <span class="n">mProgressDialog</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>
        <span class="n">setContentView</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">activity_login</span><span class="o">);</span>

        <span class="n">mEmailView</span> <span class="o">=</span> <span class="o">(</span><span class="n">AutoCompleteTextView</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">email</span><span class="o">);</span>
        <span class="n">mPasswordView</span> <span class="o">=</span> <span class="o">(</span><span class="n">EditText</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">password</span><span class="o">);</span>

        <span class="n">mPasswordView</span><span class="o">.</span><span class="na">setOnEditorActionListener</span><span class="o">(</span><span class="k">new</span> <span class="n">TextView</span><span class="o">.</span><span class="na">OnEditorActionListener</span><span class="o">()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">onEditorAction</span><span class="o">(</span><span class="n">TextView</span> <span class="n">textView</span><span class="o">,</span> <span class="kt">int</span> <span class="n">id</span><span class="o">,</span> <span class="n">KeyEvent</span> <span class="n">keyEvent</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">id</span> <span class="o">==</span> <span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">login</span> <span class="o">||</span> <span class="n">id</span> <span class="o">==</span> <span class="n">EditorInfo</span><span class="o">.</span><span class="na">IME_NULL</span><span class="o">)</span> <span class="o">{</span>
                    <span class="c1">//å°è¯•ç™»å½•</span>
                    <span class="n">attemptLogin</span><span class="o">();</span>
                    <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
                <span class="o">}</span>
                <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
            <span class="o">}</span>
        <span class="o">});</span>

        <span class="n">Button</span> <span class="n">emailSignInButton</span> <span class="o">=</span> <span class="o">(</span><span class="n">Button</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">email_sign_in_button</span><span class="o">);</span>
        <span class="n">emailSignInButton</span><span class="o">.</span><span class="na">setOnClickListener</span><span class="o">(</span><span class="k">new</span> <span class="n">OnClickListener</span><span class="o">()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onClick</span><span class="o">(</span><span class="n">View</span> <span class="n">view</span><span class="o">)</span> <span class="o">{</span>
                <span class="c1">//å°è¯•ç™»å½•</span>
                <span class="n">attemptLogin</span><span class="o">();</span>
            <span class="o">}</span>
        <span class="o">});</span>
    <span class="o">}</span>

    <span class="cm">/**
     * è¯´æ˜:è·å–ç”¨æˆ·è¾“å…¥çš„å†…å®¹å¹¶è°ƒç”¨ç›¸åº”çš„éªŒè¯æ–¹æ³•
     */</span>
    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">attemptLogin</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">String</span> <span class="n">email</span> <span class="o">=</span> <span class="n">mEmailView</span><span class="o">.</span><span class="na">getText</span><span class="o">().</span><span class="na">toString</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">password</span> <span class="o">=</span> <span class="n">mPasswordView</span><span class="o">.</span><span class="na">getText</span><span class="o">().</span><span class="na">toString</span><span class="o">();</span>

        <span class="k">if</span> <span class="o">(</span><span class="n">isEmailValid</span><span class="o">(</span><span class="n">email</span><span class="o">)</span> <span class="o">&amp;&amp;</span> <span class="n">isPasswordValid</span><span class="o">(</span><span class="n">password</span><span class="o">))</span> <span class="o">{</span>
            <span class="n">login</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>


    <span class="cm">/**
     * è¯´æ˜:éªŒè¯é‚®ç®±æ ¼å¼
     *
     * @param email é‚®ç®±åœ°å€
     * @return é‚®ç®±åœ°å€æ ¼å¼æ­£ç¡®æˆ–é”™è¯¯
     */</span>
    <span class="kd">private</span> <span class="kt">boolean</span> <span class="nf">isEmailValid</span><span class="o">(</span><span class="n">String</span> <span class="n">email</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">email</span><span class="o">.</span><span class="na">length</span><span class="o">()</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">showToast</span><span class="o">(</span><span class="s">"è¯·è¾“å…¥é‚®ç®±!"</span><span class="o">);</span>
            <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
        <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(!</span><span class="n">android</span><span class="o">.</span><span class="na">util</span><span class="o">.</span><span class="na">Patterns</span><span class="o">.</span><span class="na">EMAIL_ADDRESS</span><span class="o">.</span><span class="na">matcher</span><span class="o">(</span><span class="n">email</span><span class="o">).</span><span class="na">matches</span><span class="o">())</span> <span class="o">{</span>
            <span class="n">showToast</span><span class="o">(</span><span class="s">"é‚®ç®±æ ¼å¼ä¸æ­£ç¡®!"</span><span class="o">);</span>
            <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
            <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="cm">/**
     * è¯´æ˜:éªŒè¯å¯†ç æ ¼å¼
     *
     * @param password å¯†ç 
     * @return å¯†ç æ ¼å¼æ­£ç¡®æˆ–é”™è¯¯
     */</span>
    <span class="kd">private</span> <span class="kt">boolean</span> <span class="nf">isPasswordValid</span><span class="o">(</span><span class="n">String</span> <span class="n">password</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">password</span><span class="o">.</span><span class="na">length</span><span class="o">()</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">showToast</span><span class="o">(</span><span class="s">"è¯·è¾“å…¥å¯†ç !"</span><span class="o">);</span>
            <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
        <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">password</span><span class="o">.</span><span class="na">length</span><span class="o">()</span> <span class="o">&lt;</span> <span class="mi">6</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">showToast</span><span class="o">(</span><span class="s">"è¯·è¾“å…¥è‡³å°‘6ä½å¯†ç !"</span><span class="o">);</span>
            <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
            <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="cm">/**
     * è¯´æ˜:æ˜¾ç¤ºToastçš„æ–¹æ³•
     *
     * @param message è¦æ˜¾ç¤ºçš„æ¶ˆæ¯
     */</span>
    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">showToast</span><span class="o">(</span><span class="n">String</span> <span class="n">message</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">Toast</span><span class="o">.</span><span class="na">makeText</span><span class="o">(</span><span class="n">getApplicationContext</span><span class="o">(),</span> <span class="n">message</span><span class="o">,</span> <span class="n">Toast</span><span class="o">.</span><span class="na">LENGTH_SHORT</span><span class="o">).</span><span class="na">show</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="cm">/**
     * è¯´æ˜:ç™»å½•
     * &lt;p&gt;
     * è¿™é‡Œä¸ºäº†å±•ç¤ºå¯¹è¯æ¡†,å°†å¯¹è¯æ¡†å›ºå®šæ˜¾ç¤ºäº†3ç§’
     */</span>
    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">login</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">showDialog</span><span class="o">();</span>

        <span class="n">Timer</span> <span class="n">timer</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Timer</span><span class="o">();</span>
        <span class="n">TimerTask</span> <span class="n">timerTask</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TimerTask</span><span class="o">()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span>
                <span class="n">mProgressDialog</span><span class="o">.</span><span class="na">dismiss</span><span class="o">();</span>
                <span class="n">Intent</span> <span class="n">intent</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Intent</span><span class="o">(</span><span class="n">LoginActivity</span><span class="o">.</span><span class="na">this</span><span class="o">,</span> <span class="n">HomeActivity</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
                <span class="n">startActivity</span><span class="o">(</span><span class="n">intent</span><span class="o">);</span>
                <span class="n">finish</span><span class="o">();</span>
            <span class="o">}</span>
        <span class="o">};</span>
        <span class="n">timer</span><span class="o">.</span><span class="na">schedule</span><span class="o">(</span><span class="n">timerTask</span><span class="o">,</span> <span class="mi">3000</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * è¯´æ˜:showä¸€ä¸ªDialog
     */</span>
    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">showDialog</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">mProgressDialog</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ProgressDialog</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">R</span><span class="o">.</span><span class="na">style</span><span class="o">.</span><span class="na">AppTheme_Dark_Dialog</span><span class="o">);</span>
        <span class="n">mProgressDialog</span><span class="o">.</span><span class="na">setIndeterminate</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
        <span class="n">mProgressDialog</span><span class="o">.</span><span class="na">setMessage</span><span class="o">(</span><span class="s">"æ­£åœ¨éªŒè¯..."</span><span class="o">);</span>
        <span class="n">mProgressDialog</span><span class="o">.</span><span class="na">show</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<p><strong>Dialog Style</strong></p>
<pre class="highlight xml"><code><span class="nt">&lt;style</span> <span class="na">name=</span><span class="s">"AppTheme.Dark.Dialog"</span> <span class="na">parent=</span><span class="s">"Theme.AppCompat.Dialog"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">"colorAccent"</span><span class="nt">&gt;</span>@color/colorAccent<span class="nt">&lt;/item&gt;</span>
        <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">"android:textColorPrimary"</span><span class="nt">&gt;</span>@color/textPrimary<span class="nt">&lt;/item&gt;</span>
        <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">"android:background"</span><span class="nt">&gt;</span>@color/colorPrimary<span class="nt">&lt;/item&gt;</span>
<span class="nt">&lt;/style&gt;</span>
</code></pre>
<p><strong>æ•ˆæœå›¾</strong></p>

<p><img src="https://cloud.githubusercontent.com/assets/12692071/20247102/d1328fe4-a9ff-11e6-8f6e-513f79d2446c.png" alt="æ•ˆæœå›¾" /></p>

<p><strong>æ•ˆæœè§†é¢‘â†’</strong><a href="http://v.youku.com/v_show/id_XMTczMjA1MzY4NA==.html">ç‚¹è¿™é‡Œ</a></p>

<h2>å‚è€ƒæ–‡ç« </h2>

<p><a href="http://babich.biz/mobile-form-usability/">Mobile Form Usability</a></p>

<p><a href="https://developer.android.com/guide/index.html">Androidå®˜æ–¹æ–‡æ¡£</a></p>

<p><a href="https://developer.android.com/guide/index.html">Text fields | Material Design</a></p>

<p><a href="https://code.tutsplus.com/tutorials/creating-a-login-screen-using-textinputlayout--cms-24168">Creating a Login Screen Using TextInputLayout</a></p>

<h2>å…³äº</h2>

<p><img src="https://cloud.githubusercontent.com/assets/12692071/20247234/0341c3f4-aa02-11e6-8eba-fe355635411e.jpg" alt="äºŒç»´ç " /></p>

<p><strong>å¾®ä¿¡å…¬ä¼—å·ï¼š BugDevã€Œbugdevã€</strong></p>

<p><strong>çŸ¥ä¹ä¸“æ ï¼š<a href="https://code.tutsplus.com/tutorials/creating-a-login-screen-using-textinputlayout--cms-24168">BugDev</a></strong></p>

<p>æ¬¢è¿å…³æ³¨å•¦~ ï¼</p>
</div></div><a class="top" href="#">Back to Top</a><div class="footer"><div class="container"><a class="logo" href="https://www.jiandanxinli.com"><img src="/images/logo_text.png" alt="ç®€å•å¿ƒç†" /></a><div class="links"><a href="http://gold.xitu.io/user/57c7a5fba633bd006cfc360b">æ˜é‡‘</a><a href="https://toutiao.io/subjects/17642">å¼€å‘è€…å¤´æ¡</a></div><div class="links"><a href="/">Home</a><a href="/feed.xml">Feed</a><a href="https://github.com/jiandanxinli">Github</a><a href="https://www.jiandanxinli.com/pages/37">About</a></div><p>&copy; 2014 - 2016 åŒ—äº¬ç«¹é—´ç§‘æŠ€æœ‰é™å…¬å¸ ç‰ˆæƒæ‰€æœ‰</p></div></div></body></html>