<!DOCTYPE html><html lang="zh-CN"><head><meta content="IE=edge;chrome=1" http-equiv="X-UA-Compatible" /><meta content="width=device-width, initial-scale=1" name="viewport" /><title>选择 jsonapi-resources 的理由 · 简单心理技术团队</title><link href="/stylesheets/app.css" rel="stylesheet" /><link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/feed.xml" /><link href="/images/favicon.ico" rel="icon" /></head><body><div class="animated fadeInDown"><div class="header container"><a class="logo" href="/"><img src="/images/logo.png" alt="Logo" /></a><h1><a href="/">简单心理 · 技术团队</a></h1><a class="github" href="https://github.com/jiandanxinli">github.com/jiandanxinli</a></div><div class="subheader container"><a href="/tags/ruby.html" class="active">Ruby</a><a href="/tags/web.html">Web</a><a href="/tags/api.html" class="active">API</a><a href="/tags/ubuntu.html">Ubuntu</a><a href="/tags/nginx.html">Nginx</a><a href="/tags/ipv6.html">IPv6</a><a href="/tags/node.html">Node</a><a href="/tags/ios.html">iOS</a><a href="https://www.jiandanxinli.com/pages/37">Join Us</a></div></div><div class="animated_container"><div class="content container animated fadeIn delay"><h2>选择 jsonapi-resources 的理由</h2><div class="meta"><span class="date">2016-07-30</span><span class="author">Ben</span></div><p>Rails 5 发布时的官方日志里，推荐了三种用于构建 API 的 gem，分别是 <a href="https://github.com/rails/jbuilder">Jbuilder</a>、<a href="https://github.com/rails-api/active_model_serializers">Active Model Serializers</a> 和 <a href="https://github.com/cerebris/jsonapi-resources">JSONAPI::Resources</a>，其中前两种需要配合 rails-api 来使用，只有 jsonapi-resources 提供了 JSONAPI::ResourceController。</p>

<p>我们最终选择了 jsonapi-resources 主要基于以下原因：</p>

<ol>
<li>它的 resource 语法与 active_model_serializers 相近，而我们之前使用的是 active_model_serializers</li>
<li>active_model_serializers 不支持 abstract 特性，必须基于某个 model，而我们有些 resource 并非基于 model</li>
<li>jsonapi-resources 内置了 fields 选项，可以方便的在请求端指定返回的字段，而不必返回全部字段</li>
<li>返回的数据结构符合 <a href="http://jsonapi.org/">jsonapi 规范</a></li>
<li>JSONAPI::ResourceController 提供了 RESTful 的封装，可以省去不少代码</li>
</ol>

<p>以上的原因只是对目前项目来说最需要的特性，更多特性可以去看官方文档。</p>

<p>参考链接：</p>

<p>jsonapi-resources： <a href="https://github.com/cerebris/jsonapi-resources">https://github.com/cerebris/jsonapi-resources</a></p>

<p>jsonapi：<a href="http://jsonapi.org">http://jsonapi.org</a></p>
</div></div><a class="top" href="#">Back to Top</a><div class="footer"><div class="container"><p>提升价值，而非估值</p><div class="links"><a href="/feed.xml">Feed</a><a href="https://github.com/jiandanxinli">Github</a><a href="https://www.jiandanxinli.com/pages/37">关于我们</a><a href="https://www.jiandanxinli.com">简单心理</a></div><p>&copy; 2014 - 2016 北京竹间科技有限公司 版权所有</p></div></div></body></html>